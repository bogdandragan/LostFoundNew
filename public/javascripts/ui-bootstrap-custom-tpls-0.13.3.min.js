/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.13.3 - 2015-08-09
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.typeahead","ui.bootstrap.position","ui.bootstrap.bindHtml"]),angular.module("ui.bootstrap.tpls",["template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,a,i,o,r,l,p){var s=[9,13,27,38,40],c=200;return{require:"ngModel",link:function(d,u,h,f){function m(){O.moveInProgress||(O.moveInProgress=!0,O.$digest()),B&&a.cancel(B),B=a(function(){O.matches.length&&v(),O.moveInProgress=!1,O.$digest()},c)}function v(){O.position=U?l.offset(u):l.position(u),O.position.top+=u.prop("offsetHeight")}var g=d.$eval(h.typeaheadMinLength);g||0===g||(g=1);var y,$,b=d.$eval(h.typeaheadWaitMs)||0,w=d.$eval(h.typeaheadEditable)!==!1,x=t(h.typeaheadLoading).assign||angular.noop,I=t(h.typeaheadOnSelect),M=angular.isDefined(h.typeaheadSelectOnBlur)?d.$eval(h.typeaheadSelectOnBlur):!1,H=t(h.typeaheadNoResults).assign||angular.noop,S=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,U=h.typeaheadAppendToBody?d.$eval(h.typeaheadAppendToBody):!1,k=d.$eval(h.typeaheadFocusFirst)!==!1,P=h.typeaheadSelectOnExact?d.$eval(h.typeaheadSelectOnExact):!1,E=t(h.ngModel).assign,q=p.parse(h.typeahead),O=d.$new();d.$on("$destroy",function(){O.$destroy()});var V="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V});var D=angular.element("<div typeahead-popup></div>");D.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&D.attr("template-url",h.typeaheadTemplateUrl);var A=function(){O.matches=[],O.activeIdx=-1,u.attr("aria-expanded",!1)},C=function(e){return V+"-option-"+e};O.$watch("activeIdx",function(e){0>e?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",C(e))});var T=function(e,t){return O.matches.length>t&&e?e.toUpperCase()===O.matches[t].label.toUpperCase():!1},_=function(e){var t={$viewValue:e};x(d,!0),H(d,!1),n.when(q.source(d,t)).then(function(n){var a=e===f.$viewValue;if(a&&y)if(n&&n.length>0){O.activeIdx=k?0:-1,H(d,!1),O.matches.length=0;for(var i=0;i<n.length;i++)t[q.itemName]=n[i],O.matches.push({id:C(i),label:q.viewMapper(O,t),model:n[i]});O.query=e,v(),u.attr("aria-expanded",!0),P&&1===O.matches.length&&T(e,0)&&O.select(0)}else A(),H(d,!0);a&&x(d,!1)},function(){A(),x(d,!1),H(d,!0)})};U&&(angular.element(o).bind("resize",m),i.find("body").bind("scroll",m));var B;O.moveInProgress=!1,A(),O.query=void 0;var N,R=function(e){N=a(function(){_(e)},b)},L=function(){N&&a.cancel(N)};f.$parsers.unshift(function(e){return y=!0,0===g||e&&e.length>=g?b>0?(L(),R(e)):_(e):(x(d,!1),L(),A()),w?e:e?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(e){var t,n,a={};return w||f.$setValidity("editable",!0),S?(a.$model=e,S(d,a)):(a[q.itemName]=e,t=q.viewMapper(d,a),a[q.itemName]=void 0,n=q.viewMapper(d,a),t!==n?t:e)}),O.select=function(e){var t,n,i={};$=!0,i[q.itemName]=n=O.matches[e].model,t=q.modelMapper(d,i),E(d,t),f.$setValidity("editable",!0),f.$setValidity("parse",!0),I(d,{$item:n,$model:t,$label:q.viewMapper(d,i)}),A(),a(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){if(0!==O.matches.length&&-1!==s.indexOf(e.which)){if(-1===O.activeIdx&&(9===e.which||13===e.which))return A(),void O.$digest();e.preventDefault(),40===e.which?(O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest()):38===e.which?(O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest()):13===e.which||9===e.which?O.$apply(function(){O.select(O.activeIdx)}):27===e.which&&(e.stopPropagation(),A(),O.$digest())}}),u.bind("blur",function(){M&&O.matches.length&&-1!==O.activeIdx&&!$&&($=!0,O.$apply(function(){O.select(O.activeIdx)})),y=!1,$=!1});var W=function(e){u[0]!==e.target&&3!==e.which&&0!==O.matches.length&&(A(),r.$$phase||O.$digest())};i.bind("click",W),d.$on("$destroy",function(){i.unbind("click",W),U&&F.remove(),D.remove()});var F=e(D)(O);U?i.find("body").append(F):u.after(F)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,o,r,l,p=n.split("-"),s=p[0],c=p[1]||"center";i=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},u={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(s){case"right":l={top:u[c](),left:d[s]()};break;case"left":l={top:u[c](),left:i.left-o};break;case"bottom":l={top:u[s](),left:d[c]()};break;default:l={top:i.top-r,left:d[c]()}}return l}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,a,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){a.html(e||"")})}}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]);